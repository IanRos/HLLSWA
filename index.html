
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HLL Artillery Calculator</title>

  <!-- WWII-themed typefaces (readable, with system fallbacks). -->
  <link href="https://fonts.googleapis.com/css2?family=Stardos+Stencil:wght@400;700&family=Special+Elite&display=swap" rel="stylesheet">

  <!-- Site styles -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="container">
    <header class="page-header">
      <div class="insignia" aria-hidden="true"></div>
      <h1 class="title">HLL Artillery Calculator</h1>
      <p class="sub">Meters → MIL converter for SPA &amp; FA.</p>
      <!-- h3 class="sub">Enter Meters, get MIL</h3-->
    </header>

    <section class="arty-card" aria-labelledby="calc-title">
      <div class="card-top">
        <h2 id="calc-title">Enter Meters, get MIL</h2>
        <button id="resetBtn" class="ghost" aria-label="Reset calculator">Reset</button>
      </div>

      <!-- Step 1: Category -->
      <div class="row">
        <label for="step1">Artillery Category</label>
        <select id="step1" aria-label="Artillery category">
          <option value="" selected>— Select —</option>
          <option value="SPA">Self Propelled Artillery (SPA)</option>
          <option value="FA">Fixed Artillery (FA)</option>
        </select>
      </div>

      <!-- Step 2: Variant/Faction -->
      <div class="row">
        <label for="step2">Faction</label>
        <select id="step2" aria-label="Artillery variant" disabled>
          <option value="">— Select Step 1 first —</option>
        </select>
      </div>

      <!-- Meters input with large +/- controls -->
      <div class="row meters-row">
        <label for="meters">Meters</label>
        <div class="meters-input">
          <button id="minusBtn" class="round" aria-label="Decrease meters">−</button>
          <input id="meters" type="number" inputmode="numeric" step="1" min="0" placeholder="Enter whole meters…" aria-describedby="metersHelp" />
          <button id="plusBtn" class="round" aria-label="Increase meters">+</button>
        </div>
        <small id="metersHelp" class="help">Whole numbers only. Use +/− or ↑/↓ keys.</small>
      </div>

      <!-- SPA-only MIL adjustment with large +/- controls -->
      <div class="row" id="spaAdjRow" hidden>
        <label for="spaAdj">MIL adjustment (SPA only)</label>
        <div class="meters-input">
          <button id="adjMinusBtn" class="round" aria-label="Decrease MIL adjustment">−</button>
          <input id="spaAdj" type="number" step="1" min="-1000" max="1000" value="0" aria-describedby="adjHelp" />
          <button id="adjPlusBtn" class="round" aria-label="Increase MIL adjustment">+</button>
        </div>
        <small id="adjHelp" class="help">Applied after computation.</small>
      </div>

      <!-- Prominent output -->
      <div id="result" class="result" role="status" aria-live="polite" aria-atomic="true">MIL: —</div>
      <div id="warning" class="warning" hidden></div>

      <!-- Precision toggle (de-emphasized, below output) -->
      <div class="precision-row">
        <label for="wholeToggle" class="precision-label" title="Show one decimal place by default; toggle to whole number">
          <input id="wholeToggle" type="checkbox" />
          Whole number output
        </label>
      </div>
    </section>

    <section class="notes">
      <h2>Notes</h2>
      <ul>
        <li><code>(1000 − meters)</code> — SPA formulas use fractions of this; FA formulas are exact linear fits.</li>
        <li>Output shows one decimal by default. Toggle above to use whole numbers.</li>
        <li>Extrapolation is allowed; output turns red and shows the relevant reference range.</li>
      </ul>
    </section>

    <footer class="footer">
      <small>Created by Mr. Fantastic &amp; M365 Copilot • © 2025</small>
    </footer>
  </main>

  <!-- App logic -->
  <script src="script.js"></script>
</body>
</html>
